# .env file
HKU_AUTH_TOKEN="your_current_long_token_string_here"
ADMIN_API_KEY="a-very-long-and-random-secret-string-that-you-create"
```

### **Step 3: Rebuild and Run Your Docker Container**

Since you've changed the code, you need to rebuild your Docker image.

```bash
docker-compose up --build -d
```

Your service is now running with the new token-refresh capability.

### **Step 4: How to Refresh the Token (The "Hot-Reload")**

When your token expires and you get an authentication error, follow this new, seamless workflow:

1.  **Get a New Token**: Follow the same steps as before in your browser to get a new `Bearer` token from the HKU chat service.
2.  **Send an API Request**: Use a tool like `curl` or Postman to send a `POST` request to your new `/update-token` endpoint.

Here is the `curl` command to do it. Replace the placeholders with your new token and your admin API key.

```bash
curl -X POST http://localhost:8000/update-token \
  -H "Content-Type: application/json" \
  -H "X-API-Key: your-super-secret-key" \
  -d '{
    "token": "paste_your_NEW_long_token_string_here"
  }'
